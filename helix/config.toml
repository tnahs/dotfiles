theme = "@catppuccin_macchiato"

[editor]
rulers = [80, 88, 120]
mouse = true
scrolloff = 8
cursorline = true
color-modes = true
bufferline = "always"

[editor.file-picker]
hidden = false

[editor.cursor-shape]
insert = "bar"
normal = "block"
select = "block"

[editor.whitespace]
render = { space = "all" }
characters = { space = "Â·" }

[editor.indent-guides]
render = true

[editor.statusline]
mode.normal = "NORMAL"
mode.insert = "INSERT"
mode.select = "SELECT"
left = ["mode", "file-name", "spacer", "diagnostics"]
right = [
  "file-encoding",
  "spacer",
  "position-percentage",
  "spacer",
  "position",
  "spacer",
  "spinner",
]

[editor.lsp]
auto-signature-help = false
display-messages = true

# Normal Mode Keymaps ----------------------------------------------------------

[keys.normal]

backspace.r = ":config-reload"
# Use explicit path so LSP and git-gutter work.
backspace.o = ":open ~/.dotfiles/helix/config.toml"

# Navigate splits with Alt-hjkl.
C-k = "jump_view_up"
C-j = "jump_view_down"
C-h = "jump_view_left"
C-l = "jump_view_right"

# Scroll page up and down.
C-A-k = ["scroll_up", "scroll_up"]
C-A-j = ["scroll_down", "scroll_down"]

# Delete from cursor to end of the line and enter NORMAL mode.
D = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "delete_selection",
]

# Change from cursor to end of the line and enter INSERT mode.
C = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "change_selection",
]

# Yank from cursor to end of the line.
Y = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "flip_selections",
  "collapse_selection",
]

# Select from cursor to end of the line.
V = ["extend_to_line_end"]


# Overwrites "delete_selection_noyank".
# Delete word under cursor without yanking.
A-d = [
  "move_next_word_start",
  "move_prev_word_start",
  "delete_selection_noyank",
]

# Overwrites "change_selection_noyank".
# Change word under cursor without yanking.
A-c = ["move_next_word_end", "move_prev_word_start", "change_selection_noyank"]

# Yank word under cursor.
A-y = [
  "move_next_word_end",
  "move_prev_word_start",
  "yank",
  "yank_main_selection_to_clipboard",
  "collapse_selection",
]

# Reflow current paragraph.
A-r = ["expand_selection", ":reflow", "collapse_selection"]

# Normal Mode Remaps ---

# Remap from C
A-j = "copy_selection_on_next_line"

# Remap from A-C
A-k = "copy_selection_on_prev_line"

# Remap from A-d
# C-d = "delete_selection_noyank"

# Remap from A-c
# C-c = "change_selection_noyank"

# Select Mode Keymaps ----------------------------------------------------------

[keys.select]

# Delete from cursor to end of the line and enter NORMAL mode.
D = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "delete_selection",
]

# Change from cursor to end of the line and enter INSERT mode.
C = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "change_selection",
]

# Yank from cursor to end of the line.
Y = [
  "extend_to_line_end",
  "yank",
  "yank_main_selection_to_clipboard",
  "flip_selections",
  "collapse_selection",
]

# Select from cursor to end of the line.
V = ["extend_to_line_end"]

# Select Mode Remaps ---

# Remap from C
A-j = "copy_selection_on_next_line"

# Remap from A-C
A-k = "copy_selection_on_prev_line"

# Remap from A-d
# C-d = "delete_selection_noyank"

# Remap from A-c
# C-c = "change_selection_noyank"
